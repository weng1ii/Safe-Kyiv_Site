<!doctype html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css'>
    <link rel="stylesheet" href="snowflakes.css">
    <link rel="stylesheet" type="text/css" href="objects.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <title>Об'єкти</title>
  </head>
  <style type="text/css">
    .card{
        transition: all 0.5s ease;
        cursor: pointer;
        box-shadow: 0px 0px 6px -4px rgba(0, 0, 0, 0.75);
        border-radius: 10px;
    }
    .card:hover{
        box-shadow: 0px 0px 51px -36px rgba(0, 0, 0, 1);
    }
    #card{
        margin-left: auto;
        margin-right: auto;
    }
    .heart-button {
      border: none;
      background-color: transparent;
      color: gray;
      font-size: 1.9em;
      cursor: pointer;
      position: relative;
      bottom: 10px;
      right: -50px;
    }

    .heart-button:hover {
      color: red;
      position: relative;

    }
    .newmoving{
        position: relative;
        bottom:-8px;
    }
    #total-likes{
        font-size: 22px;
        color: grey;
    }
    .heart-button .fa-heart {
      color: grey;
    }

    .heart-button .fa-heart.liked {
      color: red;
    }
    .padding_block {
        width: 100%;
        height: 20%;
        position: relative;
        bottom: -750px;
    }
    .paddred {
        width: 100%;
        position: relative;
        bottom: -750px;
        height: 10px;
    }
    .card img {
        transition: 0.5s all ease-in-out;
    }
    .card:hover img {
        transform: scale(1.05);
    }
  </style>
  <body>
    <div class="snowflakes" aria-hidden="true">
      <div class="intro"></div>
      <div class="snowflake">
      ❅
      </div>
      <div class="snowflake">
      ❅
      </div>
      <div class="snowflake">
      ❆
      </div>
      <div class="snowflake">
      ❄
      </div>
      <div class="snowflake">
      ❅
      </div>
      <div class="snowflake">
      ❆
      </div>
      <div class="snowflake">
      ❄
      </div>
      <div class="snowflake">
      ❅
      </div>
      <div class="snowflake">
      ❆
      </div>
      <div class="snowflake">
      ❄
      </div>
    </div>   
  	<nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light">
  		<div class="container">
  		<a
  			href ="index.html"
  			class="navbar-brand mb-0 h1">
  			<img 
  			class="d-inline-block align-top"
  			src="img/gerb.png"
  			width="30" height="30">
  		</a>
  		<div 
  			class="collapse navbar-collapse" 
  			id="navbarNav">
  			<ul class="navbar-nav">
  				<li class="nav-item active">
  					<a href="index.html" class="nav-link">
  						Головна
  					</a>
  				</li>
  				<li class="nav-item active">
  					<a href="Vazlivist.html" class="nav-link">
  						Про проєкт
  					</a>
  				</li> 				
  				<li class="nav-item active">
  					<a href="Obyektu.html" class="nav-link">
  						Об'єкти
  					</a>
  				</li> 
  				<li class="nav-item active">
  					<a href="Novynu.html" class="nav-link">
  						Статистика
  					</a>
  				</li>  				
  				<li class="nav-item active">
  					<a href="Cepede.html" class="nav-link">
  						Центр Протидії Дезінформації
  					</a>
  				</li>
  			</ul>
  		</div>
  		<div class="containerfaq ml-auto" >
  		<a
  			href ="faq.html"
  			class="navbar-brand mb-0 h1"><i class="question">FAQ</i>
  			<i class='bi bi-question-circle question'></i>
  		</a>
  		<button 
  		type="button"
  		data-bs-toggle="collapse"
  		data-bs-target="#navbarNav"
  		class="navbar-toggler"
  		aria-controls="navbarNav"
  		aria-expanded="false"
  		aria-label="Toggle navigation"
  		>
  			<span class="navbar-toggler-icon"></span>
  		</button>  		
  		</div>
  	</nav>

    <!---Creative Page Scroll Progress Bar--->
    <div id="progressbar"></div>
    <div id="scrollPath"></div>


    <div class="padding">
    <input type="text" class="form-control mt-3 mx-auto" id="myinput" placeholder="Пошук об'єктів" style="width: 60%; margin-bottom: .5rem; position: relative;">


    <div class="containerr">
        <h3 class="text-danger mt-5 text-center" id="para" style="display:none; position: relative;">Не знайдено культурних об'єктів за вашими критеріями</h3>
        <div class="row mt-3" id="card">
        </div>
    </div>



    <div class="padding_small"></div>  
    <div class="padding_block">
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <li class="page-item disabled" id="previous-page">
              <a class="page-link" href="#" tabindex="-1">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>
            <li class="page-item"><a class="page-link" href="#" data-page="2">2</a></li>
            <li class="page-item"><a class="page-link" href="#" data-page="3">3</a></li>
            <li class="page-item" id="next-page">
              <a class="page-link" href="#">Next</a>
            </li>
          </ul>
        </nav>
    </div>

    <div class="padding_small paddred"></div> 

    <script type="text/javascript">
        //filter array
        let filterarray = [];

        let galleryarray = 
        [
            {
                id: 1,
                name : "Софійський собор",
                src: "sofiasobor.jpg",
                desc: "Був закладений великим князем Ярославом Мудрим на початку XI століття. У 1990 році Софійський собор був внесений до списку Всесвітньої спадщини ЮНЕСКО..."

            },
            {
                id: 2,
                name : "Михайлівський Золотоверхий собор",
                src: "mixaylovski.jpg",
                desc: "За часів радянської влади храм був повністю зруйнований. Після набуття Україною незалежності храм був заново відновлений.........................."

            },
            {
                id: 3,
                name : "Золоті Ворота",
                src: "zoloti.jpg",
                desc: "Це один з чотирьох входів у місто, який зберігся до наших часів. Оборонну споруду було зведено за правління Ярослава Мудрого....................."

            },
            {
                id: 4,
                name : "Андріївський узвіз",
                src: "andrychurch.jpg",
                desc: "Це місце художників, театралів, любителів мистецтва і ремісників. Тут розташовані театри, дві оглядові гірки, замок «Річард Левине Серце»................"

            },
            {
                id: 5,
                name : "Батьківщина-мати",
                src: "batka.jpg",
                desc: "Вона височіє над містом і нагадує про трагічні події Другої світової війни. Під цією спорудою знаходиться музей Великої Вітчизняної Війни............"

            },
            {
                id: 6,
                name : "Будинок з химерами",
                src: "bydinok.jpg",
                desc: "Зведений у 1901-1903 роках за проектом архітектора Владислава Городецького. Цей будинок знаходиться на вулиці Банковій навпроти Адміністрації Президента України..."

            }
        ]
        // create a function to show gallery

        showgallery(galleryarray);

        function showgallery(currarray){

            document.getElementById("card").innerText = "";

            for(var i=0;i<currarray.length;i++){
                document.getElementById("card").innerHTML += `
                <div class="col-md-4 mt-3">
                <div class="card p-3 ps-5 pe-5">
                    <h4 class="text-capitalize text-center">${currarray[i].name}</h4>
                    <img src="${currarray[i].src}" width="100%" height="320px"/>
                    <p class="mt-2">${currarray[i].desc}</p>
                    <div class="wp-block-footer">
                        <div class="moving">
                            <span class="price pull-left newmoving">Ступінь руйнування: 6%</span>
                        </div>
                        <a href="#" class="btn btn-sm btn-info btn-icon btn-cart pull-right">
                            <span>Докладніше</span>
                        </a>
                        <div class="heart-container">
                            <button class="heart-button" data-id="${i}">
                                 <span id="total-likes-${i}" class="total-likes">0</span>
                                <i class="fa fa-heart"></i> 
                            </button>
                        </div>
                    </div>
                </div>
                </div>
                `
            }
        }
                                                                                                                                                                                                                                                          
        //live searching

        document.getElementById("myinput").addEventListener("keyup", function(){
            let text = document.getElementById("myinput").value;

            filterarray = galleryarray.filter(function(a){
                if(a.name.includes(text)){
                    return a.name;
                }
            });
            if(this.value ==""){
                showgallery(galleryarray);
            }
            else{
                if(filterarray == ""){
                    document.getElementById("para").style.display = 'block';
                    document.getElementById("card").innerHTML = "";
                }
                else{
                    showgallery(filterarray);
                    document.getElementById("para").style.display = 'none';
                }
            }
        })





//red

    </script>
    <script>
        // Отримання даних про кількість лайків з localStorage
        function getLikes(id) {
          const likes = localStorage.getItem(`likes-${id}`);
          return likes ? parseInt(likes) : 0;
        }

        // Збереження даних про кількість лайків в localStorage
        function saveLikes(id, likes) {
          localStorage.setItem(`likes-${id}`, likes);
        }

        // Зміна кольору лайка при натисканні на кнопку
        function toggleLikeColor(button) {
          const heartIcon = button.querySelector(".fa-heart");
          const isLiked = heartIcon.classList.contains("liked");
          if (isLiked) {
            heartIcon.classList.remove("liked");
          } else {
            heartIcon.classList.add("liked");
          }
        }

        // Додавання обробника події при натисканні на кнопку лайка
        document.querySelectorAll(".heart-button").forEach(button => {
          const id = button.getAttribute("data-id");
          const likesEl = document.getElementById(`total-likes-${id}`);
          let likes = getLikes(id);

          likesEl.innerHTML = likes;

          button.addEventListener("click", () => {
            const heartIcon = button.querySelector(".fa-heart");
            const isLiked = heartIcon.classList.contains("liked");

            if (isLiked) {
              likes--;
            } else {
              likes++;
            }

            likesEl.innerHTML = likes;
            saveLikes(id, likes);
            toggleLikeColor(button);

            // Обробка від'ємних значень
            if (likes < 0) {
              likes = 0;
              likesEl.innerHTML = likes;
              saveLikes(id, likes);
            }
          });

          // Відображення коліру лайку з localStorage
          const heartIcon = button.querySelector(".fa-heart");
          const isLiked = getLikes(id) > 0;
          if (isLiked) {
            heartIcon.classList.add("liked");
          }
        });

    </script>

    <script src="js/customScrollBar.js" type="text/javascript"></script>

    <script src="jQuery/jquery.min.js" type="text/javascript"></script>
    <script src="jQuery/popper.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>  
  </body>
</html>